"use strict";const backgroundImg="data:image/png;base64,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",fr=new FileReader,uploadBtn=document.querySelector(".js__profile-trigger"),fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview"),imgCard=document.querySelector("#img");function getImage(e){var t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,imgCard.src=`${fr.result}`,localStorage.setItem("image",fr.result)}function fakeFileClick(){fileField.click()}uploadBtn.addEventListener("click",fakeFileClick),fileField.addEventListener("change",getImage);const changeName=document.querySelector(".js__form-name"),writeName=document.querySelector(".js__title"),changeJob=document.querySelector(".js__form-job"),writeJob=document.querySelector(".js__job"),changeMail=document.querySelector(".js__form-mail"),writeMail=document.querySelector(".js__icon-mail"),changePhone=document.querySelector(".js__form-phone"),writePhone=document.querySelector(".js__icon-phone"),changeLinkedin=document.querySelector(".js__form-linkedin"),writeLinkedin=document.querySelector(".js__icon-linkedin"),changeGithub=document.querySelector(".js__form-github"),writeGithub=document.querySelector(".js__icon-github"),card=document.querySelector(".section1__card"),themeRadio=document.querySelectorAll(".js__theme__radio"),clickTheme1=document.querySelector(".theme__radio1"),clickTheme2=document.querySelector(".theme__radio2"),clickTheme3=document.querySelector(".theme__radio3"),imageCardContainer=document.querySelector(".section1__image"),previewImage=document.querySelector(".form-photo-preview");let resultColorValue,savedData;localStorage.getItem("color")?(changeColorTheme(savedData=localStorage.getItem("color")),resultColorValue=savedData,"1"===savedData?clickTheme1.setAttribute("checked",!0):"2"===savedData?clickTheme2.setAttribute("checked",!0):"3"===savedData&&clickTheme3.setAttribute("checked",!0)):clickTheme1.setAttribute("checked",!0),localStorage.getItem("name")&&(savedData=localStorage.getItem("name"),changeName.value=savedData,changingName()),localStorage.getItem("job")&&(savedData=localStorage.getItem("job"),changeJob.value=savedData,changingJob()),null!==localStorage.getItem("image")?(savedData=localStorage.getItem("image"),imageCardContainer.style.backgroundImage=`url(${savedData})`,imgCard.src=`${savedData}`,previewImage.style.backgroundImage=`url(${savedData})`):(imageCardContainer.style.backgroundImage=`url(${backgroundImg})`,imgCard.src=`${backgroundImg}`,previewImage.style.backgroundImage=`url(${backgroundImg})`),localStorage.getItem("mail")&&(savedData=localStorage.getItem("mail"),changeMail.value=savedData,writeMailfun()),localStorage.getItem("phone")&&(savedData=localStorage.getItem("phone"),changePhone.value=savedData,writePhonefun()),localStorage.getItem("linkedin")&&(savedData=localStorage.getItem("linkedin"),changeLinkedin.value=savedData,writeLikedinfun()),localStorage.getItem("github")&&(savedData=localStorage.getItem("github"),changeGithub.value=savedData,writeGithubfun());const collapsables=document.querySelectorAll(".js__collapsable"),collapseShare=document.querySelector(".share-container"),submitContainer=document.querySelector(".js__submit-container"),openCollapsable=e=>{const t=e.currentTarget.parentElement;for(let e=0;e<collapsables.length;e++){const a=collapsables[e].parentElement;t===a?t.classList.toggle("collapsed"):a.classList.add("collapsed")}};for(let e=0;e<collapsables.length;e++)collapsables[e].addEventListener("click",openCollapsable);function changeColorTheme(e){return card.classList.remove("theme-colors1"),card.classList.remove("theme-colors2"),card.classList.remove("theme-colors3"),card.classList.add(`theme-colors${e}`),resultColorValue=e,localStorage.setItem("color",resultColorValue),resultColorValue}clickTheme1.addEventListener("click",e=>changeColorTheme(e.currentTarget.value)),clickTheme2.addEventListener("click",e=>changeColorTheme(e.currentTarget.value)),clickTheme3.addEventListener("click",e=>changeColorTheme(e.currentTarget.value));const defaultElement={color:"1",name:"Nombre Apellido",job:"Front-end developer",email:"",phone:"",linkedin:"",github:"",imageCardContainer:`url(${backgroundImg})`,imgCard:`${backgroundImg}`,previewImage:`url(${backgroundImg})`};function changingName(){const e=changeName.value;""===changeName.value?(writeName.innerHTML=defaultElement.name,localStorage.removeItem("name")):(localStorage.setItem("name",e),writeName.innerHTML=e),imgCard.alt=e}function changingJob(){const e=changeJob.value;""===changeJob.value?(writeJob.innerHTML=defaultElement.job,localStorage.removeItem("job")):(localStorage.setItem("job",e),writeJob.innerHTML=e)}function writeMailfun(e){e=changeMail.value,writeMail.href="mailto: "+e,""===e?(writeMail.classList.add("hidden"),localStorage.removeItem("mail")):(localStorage.setItem("mail",e),writeMail.classList.remove("hidden"))}function writePhonefun(e){e=changePhone.value,writePhone.href="tel: "+e,""===e?(writePhone.classList.add("hidden"),localStorage.removeItem("phone")):(localStorage.setItem("phone",e),writePhone.classList.remove("hidden"))}function writeLikedinfun(e){let t="";t=(e=changeLinkedin.value).includes("@")?e.replace("@",""):e,writeLinkedin.href="https://www.linkedin.com/in/"+t,""===e?(writeLinkedin.classList.add("hidden"),localStorage.removeItem("linkedin")):(localStorage.setItem("linkedin",e),writeLinkedin.classList.remove("hidden"))}function writeGithubfun(e){let t="";t=(e=changeGithub.value).includes("@")?e.replace("@",""):e,writeGithub.href="https://github.com/"+t,""===e?(writeGithub.classList.add("hidden"),localStorage.removeItem("github")):(localStorage.setItem("github",e),writeGithub.classList.remove("hidden"))}changeName.addEventListener("keyup",changingName),changeJob.addEventListener("keyup",changingJob),changeMail.addEventListener("keyup",e=>writeMailfun(e.currentTarget.value)),changePhone.addEventListener("keyup",e=>writePhonefun(e.currentTarget.value)),changeLinkedin.addEventListener("keyup",e=>writeLikedinfun(e.currentTarget.value)),changeGithub.addEventListener("keyup",e=>writeGithubfun(e.currentTarget.value));const resetButton=document.querySelector(".js__button");function resetCard(){localStorage.removeItem("name"),writeName.innerHTML=defaultElement.name,localStorage.removeItem("job"),writeJob.innerHTML=defaultElement.job,localStorage.removeItem("mail"),changeMail.value=defaultElement.email,localStorage.removeItem("phone"),changePhone.value=defaultElement.phone,localStorage.removeItem("linkedin"),changeLinkedin.value=defaultElement.linkedin,localStorage.removeItem("github"),changeGithub.value=defaultElement.github,writeMailfun(defaultElement.email),writePhonefun(defaultElement.phone),writeLikedinfun(defaultElement.linkedin),writeGithubfun(defaultElement.github),localStorage.removeItem("image"),imageCardContainer.style.backgroundImage=defaultElement.imageCardContainer,imgCard.src=defaultElement.imgCard,previewImage.style.backgroundImage=defaultElement.previewImage,localStorage.removeItem("color"),""!==localStorage.removeItem("color")&&(changeColorTheme(defaultElement.color),clickTheme1.removeAttribute("checked",!1),clickTheme2.removeAttribute("checked",!1),clickTheme3.removeAttribute("checked",!1),clickTheme1.setAttribute("checked",!0))}resetButton.addEventListener("click",resetCard);const clickShare=document.querySelector(".collapsebtn"),openCollapsable2=()=>{event.preventDefault(),collapseShare.classList.toggle("hidden"),clickShare.classList.add("button-Create-after")},shareUrl=document.querySelector(".js__response");function writeObject(){const e={};for(let t of themeRadio)t.checked&&(e.palette=t.value);return e.name=changeName.value,e.job=changeJob.value,e.phone=changePhone.value,e.email=changeMail.value,e.linkedin=changeLinkedin.value,e.github=changeGithub.value,e.photo=fr.result,e}let cardUrl="";function sendRequest(){fetch("https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/",{method:"POST",body:JSON.stringify(writeObject()),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(e=>{cardUrl=e.cardURL,shareUrl.innerHTML='<a class="share-link-url" target="__blank" href='+cardUrl+">"+cardUrl+"</a>"}),openCollapsable2()}clickShare.addEventListener("click",sendRequest);const buttonTwitter=document.querySelector(".js__link-twitter");function openTwitter(){const e=cardUrl;buttonTwitter.href="https://twitter.com/intent/tweet?url="+encodeURIComponent(e)+"&text="+encodeURIComponent("¡Hola! Aquí tienes mi tarjeta de contacto. No te olvides de llamarme. Saludos!")+"&hashtags="+encodeURIComponent("adalab,the-scripters,js")}buttonTwitter.addEventListener("click",openTwitter);
